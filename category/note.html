<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>particle128's Blog</title>
  <meta name="author" content="particle128">



  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://particle128.cn/favicon.png" rel="icon">
  <link href="http://particle128.cn/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://particle128.cn/theme/js/modernizr-2.0.js"></script>
  <script src="http://particle128.cn/theme/js/ender.js"></script>
  <script src="http://particle128.cn/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://particle128.cn/">particle128's Blog</a></h1>
    <h2>May your choices reflect your hopes, not your fears.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://particle128.cn/" rel="subscribe-rss">RSS</a></li>
</ul>

<!-- TODO: add search here
<form action="" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:http://particle128.cn" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
-->

<ul class="main-navigation">
    <li><a href="http://particle128.cn/archives.html">archives</a></li>
    <li><a href="http://particle128.cn/category/tech.html">tech</a></li>
    <li><a href="http://particle128.cn/category/note.html">note</a></li>
    <li><a href="http://particle128.cn/category/life.html">life</a></li>
      <li><a href="http://particle128.cn/pages/aboutme.html">About me</a></li>
      <li><a href="http://particle128.cn/pages/search.html">Search</a></li>
    <!-- TODO: add categories here? -->
</ul></nav>
  <div id="main">
    <div id="content">
<div class="blog-index">
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2017/03/EffectiveModernCpp.html">Effective Modern C++回顾总结笔记</a>
      </h1>
      <p class="meta"><time datetime="2017-03-02T00:00:00" pubdate>2017-03-02</time></p>
</header>

  <div class="entry-content"><p>插播一段最近看书的心得:<br />
对于第一遍看完，感觉书里面信息量挺大，不能完全吸收或者吸收起来有点困难的，要在适当的时机看第二遍以及第三遍。<br />
第一遍不要记笔记，因为以当时的理解程度，记笔记需要重新梳理一遍，而且要记得东西很多，所以非常花时间，直接重复看也容易造成疲劳和厌倦，影响吸收效率。<br />
隔一段时间后，第二遍看。这时候，每一节看之前，先不打开书，回忆这一节介绍的东西，主要回答what和why。然后，想不出来的，带着疑虑去看书。这一遍，对于回忆不起来的，或者感觉很精辟的，可以记一下简单的笔记。<br />
当然，对于熟悉的领域，看一遍的时候，也可以按照看第二遍的方法。  </p>
<h2>Chapter 1 Deducing Types</h2>
<h3>Item 1: Understand template type deduction.</h3>
<p>三种情况：<code>T, T&amp;&amp;, T&amp; / T*</code>。注意const和volatile能不能带进推倒的类型。<br />
array/fun 会转换成 pointer ...</p></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2017/03/EffectiveModernCpp.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2016/06/index-compression.html">Index compression</a>
      </h1>
      <p class="meta"><time datetime="2016-06-26T00:00:00" pubdate>2016-06-26</time></p>
</header>

  <div class="entry-content"><p>This article is a note of Chapter 4 in《这就是搜索引擎》.</p>
<h2>Basic ideas</h2>
<p>The meanings of index compression are:</p>
<ul>
<li>Reduce SSD and memory occupation of index, which can save machines.</li>
<li>Provide opportunities for increasing index size, which usually can bring relevance gain.</li>
</ul>
<p>The basic principle is "Trade time for space". All ...</p></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2016/06/index-compression.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2016/01/design-pattern.html">设计模式-可复用面向对象软件的基础</a>
      </h1>
      <p class="meta"><time datetime="2016-01-05T00:00:00" pubdate>2016-01-05</time></p>
</header>

  <div class="entry-content"><h2>原则</h2>
<ul>
<li>针对接口编程，而不是针对实现编程  </li>
</ul>
<p>Example: DLAlgo类有个成员是LexicologicalSort对象，里面好多方法都使用了这个对象，这个对象也被一个GetSort()方法返回到外面。考虑对它进行修改（用LengthSort），和扩充（多支持一种Sort方法），会遇到什么问题？如果这个类的成员是Sort对象（抽象接口的对象）呢？  </p>
<ul>
<li>优先使用对象组合，而不是类继承  </li>
</ul>
<p>原因：<br />
1. 优先继承的话，会让继承树膨胀，可维护性变差。特别是有两种以上附加属性的时候，比如CompressAndAsciiStream.<br />
2. 继承会破坏封装，增加耦合，复用的时候可能发现基类的某些东西和它不适用，故只能修改基类和它的其他派生类。比如Person本来有GetAge()方法，它最初的两个派生类(Student和Teacher)没有任何问题。这个时候，我突然想用Alien继承自Person了，因为除了GetAge之外，Person的成员Alien都需要。但是因为GetAge()不适用，需要同时修改Person，student和teacher，把Person的GetAge()挪到Student和Teacher里面。这就导致很多代码的修改。如果用组合，Alien包含一个Person成员，它只要不把Person的GetAge()暴露出来就可以了 ...</p></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2016/01/design-pattern.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2015/04/smart-ptr.html">C++11专题：智能指针</a>
      </h1>
      <p class="meta"><time datetime="2015-04-24T00:00:00" pubdate>2015-04-24</time></p>
</header>

  <div class="entry-content"><h2>背景</h2>
<p>C++从C语言那里引入了指针类型，即所谓内建指针（built-in pointer）。传统的动态内存分配和释放(new &amp; delete)也都是基于指针的，容易出如下问题：</p>
<ol>
<li>忘记delete，内存/资源泄露</li>
<li>两次delete同一个指针，未定义</li>
<li>delete之后的指针继续使用，未定义</li>
</ol>
<p>而且，这些问题，很难调试，比如你delete了一个指针之后，堆上的同一块区域后来又被分配出去，那么你下次delete可能没有运行时错误，但是堆上的空闲链表却被你破坏了，之后的程序可能出现非常诡异的问题。</p>
<h2>意义</h2>
<p>智能指针，如果<em>使用得当</em>，可以防止以上三个问题，因为delete操作交给析构函数来进行(问题1、2)，并且析构之后的智能指针被自动置null(问题3)。另外，通过不同类型的智能指针，可以实现普通指针不能实现的额外好处，比如共享资源(<code>shared_ptr</code>)、专用资源(<code>unique_ptr</code>)等。</p>
<p>这里说的<em>使用得当</em>是指，按照惯例来使用智能指针：</p>
<ol>
<li>不要用同一个内建指针初始化或reset多个智能指针</li>
<li>不要delete ...</li></ol></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2015/04/smart-ptr.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2015/04/constexpr.html">C++11专题：constexpr类型</a>
      </h1>
      <p class="meta"><time datetime="2015-04-15T00:00:00" pubdate>2015-04-15</time></p>
</header>

  <div class="entry-content"><p>代码是最好的文档，所以，本系列主要在代码中讲解。</p>
<h2>背景</h2>
<p>C++中的const变量，包括编译时常量（compile-time constants）和运行时常量（runtime constants）。其中，编译时常量又叫常量表达式（constant expression），只有初始化式也是常量表达式的const变量才是常量表达式。例如：</p>
<div class="highlight"><pre><span class="k">const</span> <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">);</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>


<p>const变量不一定是常量表达式，所以，const变量不一定能用在一些需要常量表达式的地方，比如：</p>
<div class="highlight"><pre><span class="kt">int</span> <span class="nf">fun</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="mi">0</span><span class="p">;}</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">fun</span><span class="p">();</span> <span class="c1">// 非常量表达式，后面的(1)~(4)均编译出错</span>
<span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="n">n</span><span class="p">];</span> <span class="c1">// （1 ...</span></pre></div></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2015/04/constexpr.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2015/04/ExpertC(2).html">C专家编程-笔记(2)</a>
      </h1>
      <p class="meta"><time datetime="2015-04-11T00:00:00" pubdate>2015-04-11</time></p>
</header>

  <div class="entry-content"><h3>第五章  对链接的思考</h3>
<p><img alt="5-1" src="http://particle128.cn/images/expert_c_5_1.png" /></p>
<h3>第六章  运动的诗章：运行时数据结构</h3>
<p><img alt="6-1" src="http://particle128.cn/images/expert_c_6_1.png" /></p>
<h3>第七章  对内存的思考</h3>
<p><img alt="7-1" src="http://particle128.cn/images/expert_c_7_1.png" /></p>
<h3>第九、十章  再论数组、再论指针</h3>
<p><img alt="9-1" src="http://particle128.cn/images/expert_c_9_1.png" /></p></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2015/04/ExpertC(2).html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2015/04/theCleanCoder(4).html">The Clean Coder 笔记 (4)</a>
      </h1>
      <p class="meta"><time datetime="2015-04-06T00:00:00" pubdate>2015-04-06</time></p>
</header>

  <div class="entry-content"><h3>Chapter10 Estimation</h3>
<blockquote>
<p>The Law Of Large Numbers.<br />
If you break up a large task into many smaller tasks and estimate them independently, the sum of the estimates of the small tasks will be more accurate than a single estimate of the larger task. The reason for this increase in accurary ...</p></blockquote></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2015/04/theCleanCoder(4).html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2015/04/theCleanCoder(3).html">The Clean Coder 笔记 (3)</a>
      </h1>
      <p class="meta"><time datetime="2015-04-05T00:00:00" pubdate>2015-04-05</time></p>
</header>

  <div class="entry-content"><h3>Chapter6 Practicing</h3>
<blockquote>
<p>Turnaround Time. <br />
Doing anything quickly requires practice. Spinning around the code/test loop quickly requires you to make very quick decisions. Making decisions quickly means being able to recognize a vast number of situations and problems and simply know that to do to address them.<br />
Speed depends on ...</p></blockquote></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2015/04/theCleanCoder(3).html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2015/04/theCleanCoder(2).html">The Clean Coder 笔记 (2)</a>
      </h1>
      <p class="meta"><time datetime="2015-04-04T00:00:00" pubdate>2015-04-04</time></p>
</header>

  <div class="entry-content"><h3>Chapter4 Coding</h3>
<blockquote>
<p>Preparedness. <br />
If you are tired or distracted, do not code. You'll only wind up redoing what you did. Instead, find a way to eliminate the distractions and settle your mind. </p>
</blockquote>
<p>累或者走神的时候，别写代码。先把糟糕的状态排除或者减轻了，再来写代码。</p>
<blockquote>
<p>3 AM Code. <br />
I remember feeling so good about myself for the long ...</p></blockquote></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2015/04/theCleanCoder(2).html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="http://particle128.cn/posts/2015/04/theCleanCoder(1).html">The Clean Coder 笔记 (1)</a>
      </h1>
      <p class="meta"><time datetime="2015-04-03T00:00:00" pubdate>2015-04-03</time></p>
</header>

  <div class="entry-content"><h3>Chapter1 Professionalism</h3>
<blockquote>
<p>QA Should Find Nothing.<br />
Some folks use QA as the bug catchers. They send them code that they haven't thoroughtly checked. They depend on QA to find the bugs and report them back to the developers. Indeed, some companies reward QA based on the number of bugs ...</p></blockquote></div>
  <footer>
    <a rel="full-article" href="http://particle128.cn/posts/2015/04/theCleanCoder(1).html">Read On &crarr;</a>
  </footer>
  		</article>
<div class="pagination">
    <a class="prev" href="http://particle128.cn/category/note2.html">&larr; Older</a>

  <br />
</div></div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://particle128.cn/posts/2017/03/EffectiveModernCpp.html">Effective Modern C++回顾总结笔记</a>
      </li>
      <li class="post">
          <a href="http://particle128.cn/posts/2016/06/index-compression.html">Index compression</a>
      </li>
      <li class="post">
          <a href="http://particle128.cn/posts/2016/01/design-pattern.html">设计模式-可复用面向对象软件的基础</a>
      </li>
      <li class="post">
          <a href="http://particle128.cn/posts/2015/04/smart-ptr.html">C++11专题：智能指针</a>
      </li>
      <li class="post">
          <a href="http://particle128.cn/posts/2015/04/constexpr.html">C++11专题：constexpr类型</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://particle128.cn/category/life.html">life</a></li>
        <li><a href="http://particle128.cn/category/note.html">note</a></li>
        <li><a href="http://particle128.cn/category/tech.html">tech</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="http://particle128.cn/tag/load.html">load</a>,    <a href="http://particle128.cn/tag/pelican.html">pelican</a>,    <a href="http://particle128.cn/tag/time-management.html">time-management</a>,    <a href="http://particle128.cn/tag/expertc.html">ExpertC</a>,    <a href="http://particle128.cn/tag/windbg_extension.html">windbg_extension</a>,    <a href="http://particle128.cn/tag/selenium.html">selenium</a>,    <a href="http://particle128.cn/tag/distributed.html">distributed</a>,    <a href="http://particle128.cn/tag/mysql.html">MySQL</a>,    <a href="http://particle128.cn/tag/subprocess.html">subprocess</a>,    <a href="http://particle128.cn/tag/reentrant.html">reentrant</a>,    <a href="http://particle128.cn/tag/linux.html">linux</a>,    <a href="http://particle128.cn/tag/select.html">select</a>,    <a href="http://particle128.cn/tag/configparser.html">ConfigParser</a>,    <a href="http://particle128.cn/tag/conversion.html">conversion</a>,    <a href="http://particle128.cn/tag/git.html">git</a>,    <a href="http://particle128.cn/tag/core-dump.html">core dump</a>,    <a href="http://particle128.cn/tag/lwp.html">lwp</a>,    <a href="http://particle128.cn/tag/storage.html">storage</a>,    <a href="http://particle128.cn/tag/searchengine.html">searchengine</a>,    <a href="http://particle128.cn/tag/name-lookup.html">name-lookup</a>,    <a href="http://particle128.cn/tag/blog.html">blog</a>,    <a href="http://particle128.cn/tag/designpattern.html">DesignPattern</a>,    <a href="http://particle128.cn/tag/health.html">health</a>,    <a href="http://particle128.cn/tag/storm.html">storm</a>,    <a href="http://particle128.cn/tag/android.html">android</a>,    <a href="http://particle128.cn/tag/effectivemoderncpp.html">EffectiveModernCpp</a>,    <a href="http://particle128.cn/tag/spinlock.html">spinlock</a>,    <a href="http://particle128.cn/tag/headache.html">headache</a>,    <a href="http://particle128.cn/tag/map.html">map</a>,    <a href="http://particle128.cn/tag/life.html">life</a>,    <a href="http://particle128.cn/tag/multi-thread.html">multi-thread</a>,    <a href="http://particle128.cn/tag/finance.html">finance</a>,    <a href="http://particle128.cn/tag/python.html">python</a>,    <a href="http://particle128.cn/tag/trident.html">trident</a>,    <a href="http://particle128.cn/tag/ssl.html">ssl</a>,    <a href="http://particle128.cn/tag/effectivecpp.html">EffectiveCpp</a>,    <a href="http://particle128.cn/tag/link.html">link</a>,    <a href="http://particle128.cn/tag/moreeffectivecpp.html">MoreEffectiveCpp</a>,    <a href="http://particle128.cn/tag/cleancode.html">cleanCode</a>,    <a href="http://particle128.cn/tag/thecleancoder.html">theCleanCoder</a>,    <a href="http://particle128.cn/tag/vpn.html">vpn</a>,    <a href="http://particle128.cn/tag/c11.html">c++11</a>,    <a href="http://particle128.cn/tag/encapsulation.html">encapsulation</a>,    <a href="http://particle128.cn/tag/goal.html">goal</a>,    <a href="http://particle128.cn/tag/logging.html">logging</a>,    <a href="http://particle128.cn/tag/algorithm.html">algorithm</a>,    <a href="http://particle128.cn/tag/thread.html">thread</a>,    <a href="http://particle128.cn/tag/database.html">database</a>,    <a href="http://particle128.cn/tag/stl.html">STL</a>,    <a href="http://particle128.cn/tag/thought.html">thought</a>,    <a href="http://particle128.cn/tag/vector.html">vector</a>,    <a href="http://particle128.cn/tag/str.html">str</a>,    <a href="http://particle128.cn/tag/cpp.html">cpp</a>,    <a href="http://particle128.cn/tag/py2exe.html">py2exe</a>,    <a href="http://particle128.cn/tag/skiplist.html">skiplist</a>,    <a href="http://particle128.cn/tag/user.html">user</a>  </section>


    <section>
        <h1>Blogroll</h2>
        <ul>
            <li><a href="http://docs.getpelican.com" target="_blank">Pelicon</a></li>
            <li><a href="http://www.google.com/webmasters" target="_blank">Google webmaster</a></li>
            <li><a href="https://disqus.com" target="_blank">Disqus</a></li>
            <li><a href="https://www.dnspod.cn/Domain" target="_blank">DNSPod</a></li>
            <li><a href="https://www.godaddy.com" target="_blank">Godaddy</a></li>
            <li><a href="http://www.goyouhuima.com" target="_blank">Godaddy优惠活动</a></li>
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - particle128 -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
	<script type="text/javascript">
	  var disqus_shortname = 'particle128';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>